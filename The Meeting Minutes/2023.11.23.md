# 2023.11.23

## <Collaborative Work>

### ğŸŒŸCollaborative

## <Personal Work>

### â›„Nayeon

- Ensemble Kernel cross validation
    
    ì½”ë“œ í™•ì¸ì€ Ensemble-Kernel repositories
    
    - repetition 100ë²ˆ ì‹¤í–‰
        - ì´ì „ì—” ê²°ê³¼ë¥¼ ë‚´ëŠ” ê³¼ì •ê¹Œì§€ ëª¨ë‘ í¬í•¨í–ˆì§€ë§Œ, remaining variables ì¶”ì¶œê¹Œì§€ í•˜ê³  ì €ì¥í›„ ê²°ê³¼ í™•ì¸ì€ ë¶„ë¦¬í•´ì„œ í™•ì¸í•˜ëŠ” ê²ƒìœ¼ë¡œ ìˆ˜ì •
        - ë¶„ë¦¬ëœ ê²°ê³¼ í™•ì¸ ì½”ë“œ
            
            ```python
            #ê²°ê³¼ ì €ì¥í•  dataframe ë§Œë“¤ì–´ì£¼ê¸°
            ensemble_cox_results=pd.DataFrame()
            
            ensemble_cox_results['train_C_index']=[]
            ensemble_cox_results['test_C_index']=[]
            ```
            
        - kernel_typeì„ ì…ë ¥í•˜ì—¬ ì»¤ë„ë³„ë¡œ ê²°ê³¼ í™•ì¸í•˜ê¸°
            - *kernel_type({â€™linearâ€™, â€˜clinicalâ€™, â€˜ensemble_coxâ€™, â€˜ensemble_aftâ€™})*
            
            ```python
            #ì„ íƒëœ ë³€ìˆ˜ë¡œ ì»¤ë„ ì •í•´ì£¼ê¸°
            kernel_type = 'ensemble_cox'
            
            for i in range(100):
                #variables = remaining_variable[i]
            		#ì—‘ì…€ íŒŒì¼ì— ì €ì¥ëœ ë³€ìˆ˜ë“¤ ë¶ˆëŸ¬ì˜¤ê¸°
                variables = eval(pd.read_csv("veteran_cox_remaining_variables.csv")['variable'][i])
            
                df_onehot_re = df_onehot[variables]
                
                x_train, x_test, target_train, target_test = split_data(df_onehot_re, randomState = random_state[i])
            
                y_train = prepare_response_variable(target_train)
                y_test = prepare_response_variable(target_test)
            
                results = c_index_kernel_type(x_train, y_train, x_test, y_test, param_grid, param_space, cv, keywords = ['Age', 'Sex'], type = kernel_type)
                
                ensemble_cox_results = ensemble_cox_results.append({"train_C_index":results[0],"test_C_index":results[1]}, ignore_index=True)
            
            #100ê°œì˜ ê²°ê³¼ íŒŒì¼ì— ì €ì¥í•˜ê¸°
            ensemble_cox_results.to_csv("lung_cox_cox.csv", index = False, encoding = 'cp949')
            ```
            

### ğŸ’ªğŸ»Beomseok