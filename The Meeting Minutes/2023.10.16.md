# 2023.10.16

## <Collaborative Work>

### ğŸŒŸCollaborative

## <Personal Work>

### â›„Nayeon

- Ensemble Kernel Test Code
    
    ì½”ë“œ í™•ì¸ì€ Ensemble-Kernel repositoriesì—ì„œ í™•ì¸
    
    - Veteran dataë¥¼ ì´ìš©í•˜ì—¬ Ensemble kernel library test ì§„í–‰
        - Veteran data
            - 137 samples (128 uncensored, 9 censored)
            - 6 covariates(3 continuous, 1 ordinal, 2 nominal)
            - Kalbfleisch D, Prentice R. (1980), The Statistical Analysis of Failure Time Data. Wiley, New York.
        - Code ì§„í–‰ ìˆœì„œ
            1. Columnë³„ Dtype ë³€í˜•
            2. Train : Test = 0.5 : 0.5ì˜ ë¹„ìœ¨ë¡œ split
            3. Ensemble Kernel Libraryë¥¼ ë¶€ë¥´ì§€ ì•Šê³  code ë‚´ì—ì„œ my_kernelë¡œ í•¨ìˆ˜ ì •ì˜ í›„ test ì§„í–‰
                1. libraryì˜ ë¬¸ì œì  íŒŒì•…ì„ ìœ„í•´ ìˆ˜ì •í•˜ê¸° ì‰½ë„ë¡ í•œ íŒŒì¼ ë‚´ì—ì„œ í™•ì¸í•˜ì˜€ìŒ.
                2. Dtypeì„ êµ¬ë³„í•´ì£¼ê¸°ìœ„í•´ tempë¥¼ ì…ë ¥í•´ì¤˜ì•¼í•˜ëŠ” ë²ˆê±°ë¡œì›€ ì¡´ì¬.
                3. return = Cox ëª¨ë¸ì˜ íšŒê·€ê³„ìˆ˜ì˜ ê°€ì¤‘ì¹˜
            4. FastKernelSurvivalSVMì— ëŒ€ì…í•  train, test ë³€ìˆ˜(my_y_test, my_y_train) ì§€ì •
            5. FastKernelSurvivalSVM ì‹¤í–‰(Ensemble kernel)
                1. ê¸°ë³¸ ì„¤ì •: optimizer = "rbtree", kernel = 'precomputed', max_iter = 1000, tol = 1e-6, random_state = 42
                2. ëŒ€ì…í•  matrixì€ my_kernelë¡œ ì–»ì–´ë‚¸ matrix
            6. GridSearchCV ì ìš©
                1. ê¸°ë³¸ ì„¤ì •: n_jobs=-1, refit=True, cv = KFold(n_splits = 5, shuffle=True, random_state=42)
                2. my_kernelì—ì„œ ì–»ì–´ë‚¸ matrixì™€ my_y_trainë¡œ fit
                
                ```python
                #result
                covariate
                karno      -0.037031
                diagtime   -0.006160
                age         0.004350
                prior      -0.000334
                trt         0.409687
                celltype    0.202173
                Name: exp(coef), dtype: float64
                
                kgcv.best_score_
                #0.7624510651278662
                
                surv_matrix_test = my_kernel(x_test)
                
                covariate
                karno      -0.036157
                diagtime    0.004376
                age        -0.024117
                prior      -0.009847
                trt        -0.025258
                celltype    0.042559
                Name: exp(coef), dtype: float64
                
                ```
                
            7. FastKernelSurvivalSVM ì‹¤í–‰(Clinical Kernel)
                1. ëŒ€ì…í•  matrixëŠ” clinical_kernelë¡œ ì–»ì–´ë‚¸ matrix
                
                ```python
                #result
                kgcv_cli.best_score_
                #0.7720263697527412
                ```